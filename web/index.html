<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redis RDI Training</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: #dc382d; color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .section { background: #f5f5f5; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .command { background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 4px; font-family: monospace; margin: 10px 0; }
        .success { color: #38a169; font-weight: bold; }
        .warning { color: #d69e2e; font-weight: bold; }
        .step { margin: 15px 0; padding: 15px; border-left: 4px solid #dc382d; }
        a { color: #dc382d; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üöÄ Redis RDI Training Environment</h1>
        <p>Learn Redis Data Integration with hands-on labs</p>
    </div>

    <div class="section">
        <h2>üìã Quick Start Guide</h2>
        
        <div class="step">
            <h3>Step 1: Get Redis Cloud Account</h3>
            <p>Sign up for a free Redis Cloud account at <a href="https://redis.io/try-free" target="_blank">redis.io/try-free</a></p>
            <p>Create a database and note your connection details from the dashboard.</p>
        </div>

        <div class="step">
            <h3>Step 2: Start the Environment</h3>
            <div class="command">./quick-start.sh</div>
            <p>The script will prompt you for your Redis Cloud connection details and automatically configure everything.</p>
        </div>

        <div class="step">
            <h3>Step 3: Configure RDI Pipeline</h3>
            <div class="command">docker exec -it rdi-cli redis-di configure</div>
            <div class="command">docker exec -it rdi-cli redis-di deploy --config /config/config-cloud.yaml</div>
            <div class="command">docker exec -it rdi-cli redis-di start</div>
        </div>

        <div class="step">
            <h3>Step 4: Generate Test Data</h3>
            <div class="command">docker exec -it rdi-loadgen python /scripts/generate_load.py</div>
            <p>This will start generating data changes in PostgreSQL that RDI will sync to Redis.</p>
        </div>
    </div>

    <div class="section">
        <h2>üîó Service Access</h2>
        <ul>
            <li><strong>Redis Insight:</strong> <a href="http://localhost:5540" target="_blank">http://localhost:5540</a> - Monitor your Redis Cloud data</li>
            <li><strong>SQLPad:</strong> <a href="http://localhost:3001" target="_blank">http://localhost:3001</a> - Query PostgreSQL database (admin@rl.org / redislabs)</li>
            <li><strong>PostgreSQL:</strong> localhost:5432 - Source database</li>
            <li><strong>This Dashboard:</strong> <a href="http://localhost:8080" target="_blank">http://localhost:8080</a></li>
        </ul>
    </div>

    <div class="section">
        <h2>üß™ Lab Exercises</h2>

        <h3>Lab 1: Create RDI Pipeline in Redis Insight</h3>
        <p><strong>Step 1:</strong> Validate PostgreSQL data in <a href="http://localhost:3001" target="_blank">SQLPad</a> (admin@rl.org / redislabs)</p>
        <div class="command">SELECT * FROM "Track" ORDER BY "TrackId";</div>

        <p><strong>Step 2:</strong> Connect your Redis Cloud database in <a href="http://localhost:5540" target="_blank">Redis Insight</a></p>
        <ul>
            <li>Click "+ Add Redis Database"</li>
            <li>Enter your Redis Cloud connection details</li>
            <li>Test connection and add database</li>
        </ul>

        <p><strong>Step 3:</strong> Create RDI Pipeline in Redis Insight</p>
        <ul>
            <li>Go to "Redis Data Integration" tab</li>
            <li>Click "+ Endpoint" and configure: URL: https://localhost:13000</li>
            <li>Create new pipeline with config targeting your Redis Cloud</li>
            <li>Create Track table job with transformations (NameUpper field, GenreId=1 filter)</li>
            <li>Deploy pipeline</li>
        </ul>

        <h3>Lab 2: Test Data Sync</h3>
        <p>Insert test data in SQLPad and verify it appears in Redis Cloud:</p>
        <div class="command">INSERT INTO "Track" ("TrackId", "Name", "AlbumId", "MediaTypeId", "GenreId", "Composer", "Milliseconds", "Bytes", "UnitPrice") VALUES (9999, 'Test Track', 1, 1, 1, 'Test Composer', 210000, 5000000, 0.99);</div>

        <h3>Lab 3: Continuous Data Flow</h3>
        <p>Generate continuous data to see real-time CDC:</p>
        <div class="command">docker exec -it rdi-loadgen python /scripts/generate_load.py</div>
        <p>Watch data flow in real-time between PostgreSQL and Redis Cloud.</p>
    </div>

    <div class="section">
        <h2>üõ†Ô∏è Troubleshooting</h2>
        <ul>
            <li><strong>Check RDI status:</strong> <code>docker exec -it rdi-cli redis-di status</code></li>
            <li><strong>View RDI logs:</strong> <code>docker exec -it rdi-cli redis-di logs</code></li>
            <li><strong>Check containers:</strong> <code>docker ps</code></li>
            <li><strong>Restart RDI:</strong> <code>docker exec -it rdi-cli redis-di restart</code></li>
        </ul>
    </div>

    <div class="section">
        <h2>üéØ Success Criteria</h2>
        <p class="success">‚úÖ You've successfully completed the training when:</p>
        <ul>
            <li>RDI status shows "running"</li>
            <li>Data appears in your Redis Cloud instance</li>
            <li>Changes in PostgreSQL sync to Redis in real-time</li>
        </ul>
    </div>
</body>
</html>
